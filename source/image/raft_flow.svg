<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" type="text/css"?>
<svg aria-roledescription="stateDiagram" role="graphics-document document" viewBox="0 0 567.6468505859375 494.1500244140625" style="max-width: 100%;" class="statediagram" xmlns="http://www.w3.org/2000/svg" width="100%" id="graph-div" height="100%" xmlns:xlink="http://www.w3.org/1999/xlink"><style>#graph-div{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#graph-div .error-icon{fill:#552222;}#graph-div .error-text{fill:#552222;stroke:#552222;}#graph-div .edge-thickness-normal{stroke-width:1px;}#graph-div .edge-thickness-thick{stroke-width:3.5px;}#graph-div .edge-pattern-solid{stroke-dasharray:0;}#graph-div .edge-thickness-invisible{stroke-width:0;fill:none;}#graph-div .edge-pattern-dashed{stroke-dasharray:3;}#graph-div .edge-pattern-dotted{stroke-dasharray:2;}#graph-div .marker{fill:#333333;stroke:#333333;}#graph-div .marker.cross{stroke:#333333;}#graph-div svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#graph-div p{margin:0;}#graph-div defs #statediagram-barbEnd{fill:#333333;stroke:#333333;}#graph-div g.stateGroup text{fill:#9370DB;stroke:none;font-size:10px;}#graph-div g.stateGroup text{fill:#333;stroke:none;font-size:10px;}#graph-div g.stateGroup .state-title{font-weight:bolder;fill:#131300;}#graph-div g.stateGroup rect{fill:#ECECFF;stroke:#9370DB;}#graph-div g.stateGroup line{stroke:#333333;stroke-width:1;}#graph-div .transition{stroke:#333333;stroke-width:1;fill:none;}#graph-div .stateGroup .composit{fill:white;border-bottom:1px;}#graph-div .stateGroup .alt-composit{fill:#e0e0e0;border-bottom:1px;}#graph-div .state-note{stroke:#aaaa33;fill:#fff5ad;}#graph-div .state-note text{fill:black;stroke:none;font-size:10px;}#graph-div .stateLabel .box{stroke:none;stroke-width:0;fill:#ECECFF;opacity:0.5;}#graph-div .edgeLabel .label rect{fill:#ECECFF;opacity:0.5;}#graph-div .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#graph-div .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#graph-div .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#graph-div .edgeLabel .label text{fill:#333;}#graph-div .label div .edgeLabel{color:#333;}#graph-div .stateLabel text{fill:#131300;font-size:10px;font-weight:bold;}#graph-div .node circle.state-start{fill:#333333;stroke:#333333;}#graph-div .node .fork-join{fill:#333333;stroke:#333333;}#graph-div .node circle.state-end{fill:#9370DB;stroke:white;stroke-width:1.5;}#graph-div .end-state-inner{fill:white;stroke-width:1.5;}#graph-div .node rect{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#graph-div .node polygon{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#graph-div #statediagram-barbEnd{fill:#333333;}#graph-div .statediagram-cluster rect{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#graph-div .cluster-label,#graph-div .nodeLabel{color:#131300;}#graph-div .statediagram-cluster rect.outer{rx:5px;ry:5px;}#graph-div .statediagram-state .divider{stroke:#9370DB;}#graph-div .statediagram-state .title-state{rx:5px;ry:5px;}#graph-div .statediagram-cluster.statediagram-cluster .inner{fill:white;}#graph-div .statediagram-cluster.statediagram-cluster-alt .inner{fill:#f0f0f0;}#graph-div .statediagram-cluster .inner{rx:0;ry:0;}#graph-div .statediagram-state rect.basic{rx:5px;ry:5px;}#graph-div .statediagram-state rect.divider{stroke-dasharray:10,10;fill:#f0f0f0;}#graph-div .note-edge{stroke-dasharray:5;}#graph-div .statediagram-note rect{fill:#fff5ad;stroke:#aaaa33;stroke-width:1px;rx:0;ry:0;}#graph-div .statediagram-note rect{fill:#fff5ad;stroke:#aaaa33;stroke-width:1px;rx:0;ry:0;}#graph-div .statediagram-note text{fill:black;}#graph-div .statediagram-note .nodeLabel{color:black;}#graph-div .statediagram .edgeLabel{color:red;}#graph-div #dependencyStart,#graph-div #dependencyEnd{fill:#333333;stroke:#333333;stroke-width:1;}#graph-div .statediagramTitleText{text-anchor:middle;font-size:18px;fill:#333;}#graph-div :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><style media="screen" class="darkreader darkreader--sync"></style><g><defs><marker orient="auto" markerUnits="userSpaceOnUse" markerHeight="14" markerWidth="20" refY="7" refX="19" id="graph-div_stateDiagram-barbEnd"><path d="M 19,7 L9,13 L14,7 L9,1 Z"></path></marker></defs><g class="root"><g class="clusters"></g><g class="edgePaths"><path data-darkreader-inline-fill="" marker-end="url(#graph-div_stateDiagram-barbEnd)" style="fill: none; --darkreader-inline-fill: none;" class="edge-thickness-normal edge-pattern-solid transition" id="edge0" d="M179.647,22L179.647,28.167C179.647,34.333,179.647,46.667,179.647,59C179.647,71.333,179.647,83.667,179.647,89.833L179.647,96"></path><path data-darkreader-inline-fill="" marker-end="url(#graph-div_stateDiagram-barbEnd)" style="fill: none; --darkreader-inline-fill: none;" class="edge-thickness-normal edge-pattern-solid transition" id="edge1" d="M218.578,125.594L258.756,135.495C298.934,145.396,379.291,165.198,398.518,183.603C417.745,202.007,375.843,219.015,354.892,227.518L333.941,236.022"></path><path data-darkreader-inline-fill="" style="fill: none; --darkreader-inline-fill: none;" class="edge-thickness-normal edge-pattern-solid transition" id="Candidate-cyclic-special-1" d="M333.941,271.251L350.951,277.876C367.96,284.501,401.98,297.75,418.99,313.867C436,329.983,436,348.967,436,358.458L436,367.95"></path><path data-darkreader-inline-fill="" style="fill: none; --darkreader-inline-fill: none;" class="edge-thickness-normal edge-pattern-solid transition" id="Candidate-cyclic-special-mid" d="M436,368.05L436,379.542C436,391.033,436,414.017,427.949,433.675C419.899,453.333,403.797,469.667,395.747,477.833L387.696,486"></path><path data-darkreader-inline-fill="" marker-end="url(#graph-div_stateDiagram-barbEnd)" style="fill: none; --darkreader-inline-fill: none;" class="edge-thickness-normal edge-pattern-solid transition" id="Candidate-cyclic-special-2" d="M387.597,486.025L371.272,477.854C354.947,469.683,322.297,453.342,305.972,433.671C289.647,414,289.647,391,289.647,370C289.647,349,289.647,330,289.647,314.333C289.647,298.667,289.647,286.333,289.647,280.167L289.647,274"></path><path data-darkreader-inline-fill="" marker-end="url(#graph-div_stateDiagram-barbEnd)" style="fill: none; --darkreader-inline-fill: none;" class="edge-thickness-normal edge-pattern-solid transition" id="edge3" d="M251.05,274L239.15,280.167C227.249,286.333,203.448,298.667,182.498,311C161.548,323.333,143.449,335.667,134.399,341.833L125.35,348"></path><path data-darkreader-inline-fill="" marker-end="url(#graph-div_stateDiagram-barbEnd)" style="fill: none; --darkreader-inline-fill: none;" class="edge-thickness-normal edge-pattern-solid transition" id="edge4" d="M275.154,234L269.236,225.833C263.318,217.667,251.483,201.333,238.463,185C225.444,168.667,211.241,152.333,204.14,144.167L197.038,136"></path><path data-darkreader-inline-fill="" marker-end="url(#graph-div_stateDiagram-barbEnd)" style="fill: none; --darkreader-inline-fill: none;" class="edge-thickness-normal edge-pattern-solid transition" id="edge5" d="M96,348L96,341.833C96,335.667,96,323.333,96,307.667C96,292,96,273,96,252C96,231,96,208,105.9,188.333C115.8,168.667,135.601,152.333,145.501,144.167L155.401,136"></path></g><g class="edgeLabels"><g transform="translate(179.64687538146973, 59)" class="edgeLabel"><g transform="translate(-32, -12)" class="label"><foreignObject height="24" width="64"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>初始狀態</p></span></div></foreignObject></g></g><g transform="translate(459.6468753814697, 185)" class="edgeLabel"><g transform="translate(-100, -24)" class="label"><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>心跳超時 (Election Timeout)</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(436, 437)" class="edgeLabel"><g transform="translate(-100, -24)" class="label"><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>無法獲得大多數選票 (重新發起選舉)</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(179.64687538146973, 311)" class="edgeLabel"><g transform="translate(-56, -12)" class="label"><foreignObject height="24" width="112"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>獲得大多數選票</p></span></div></foreignObject></g></g><g transform="translate(239.64687538146973, 185)" class="edgeLabel"><g transform="translate(-100, -24)" class="label"><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>檢測到有效 Leader (AppendEntries)</p></span></div></foreignObject></g></g><g transform="translate(96, 254)" class="edgeLabel"><g transform="translate(-88, -12)" class="label"><foreignObject height="24" width="176"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>發生故障或失去心跳超時</p></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(179.64687538146973, 15)" id="state-root_start-0" class="node default"><circle height="14" width="14" r="7" class="state-start"></circle></g><g transform="translate(179.64687538146973, 116)" id="state-Follower-5" class="node  statediagram-state"><rect height="40" width="77.86249923706055" y="-20" x="-38.93124961853027" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-30.931249618530273, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="61.86249923706055"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Follower</p></span></div></foreignObject></g></g><g transform="translate(289.6468753814697, 254)" id="state-Candidate-4" class="node  statediagram-state"><rect height="40" width="88.5875015258789" y="-20" x="-44.29375076293945" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-36.29375076293945, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="72.5875015258789"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Candidate</p></span></div></foreignObject></g></g><g transform="translate(96, 368)" id="state-Leader-5" class="node  statediagram-state"><rect height="40" width="65.10000228881836" y="-20" x="-32.55000114440918" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-24.55000114440918, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="49.10000228881836"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Leader</p></span></div></foreignObject></g></g><g transform="translate(436, 368)" id="Candidate---Candidate---1" class="label edgeLabel"><rect height="0.1" width="0.1"></rect><g transform="translate(0, 0)" style="" class="label"><rect></rect><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 10px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"></span></div></foreignObject></g></g><g transform="translate(387.6468753814697, 486.05000000074506)" id="Candidate---Candidate---2" class="label edgeLabel"><rect height="0.1" width="0.1"></rect><g transform="translate(0, 0)" style="" class="label"><rect></rect><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 10px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"></span></div></foreignObject></g></g></g></g></g></svg>